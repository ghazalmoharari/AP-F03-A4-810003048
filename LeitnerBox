#include <iostream>
#include <string>
#include <vector>
#include <algorithm>
using namespace std;

void error(string message)
{
    cerr << message << endl;
    abort();
}

class Flashcard;

class Box
{
public:
    Box(string t)
    {
        boxType = t;
    }
    string getType() { return boxType; };
    vector<Flashcard *> &getFlashcards()
    {
        return boxFlashcards;
    };
    void addFlashcard(Flashcard *flashcard)
    {
        boxFlashcards.push_back(flashcard);
    };
    void removeFlashcard(Flashcard *flashcard)
    {
        boxFlashcards.erase(find(boxFlashcards.begin(), boxFlashcards.end(), flashcard));
    };

private:
    string boxType;
    vector<Flashcard *> boxFlashcards;
};

class Flashcard
{
public:
    Flashcard(string q, string a, Box *b)
    {
        question = q;
        answer = a;
        currentBox = b;
    };
    string getQuestion() { return question; };
    string getAnswer() { return answer; };
    Box *getBox() { return currentBox; };
    void setBox(Box *box) { currentBox = box; };
    void addWrongAnswer()
    {
        numWrongAnswers++;
    };

private:
    string question;
    string answer;
    Box *currentBox;
    int numWrongAnswers = 0;
};

class Streak
{
public:
    Streak(int s = 0)
    {
        streakDays = s;
    };

    int getStreak() { return streakDays; };

    void addStreak()
    {
        streakDays++;
    };

    void breakStreak()
    {
        streakDays = 0;
    };

private:
    int streakDays = 0;
};

class LeitnerSystem
{
public:
    LeitnerSystem()
    {
        boxes.push_back(new Box("Daily"));
        boxes.push_back(new Box("Every3Days"));
        boxes.push_back(new Box("Monthly"));
        streak = new Streak();
    }

    ~LeitnerSystem()
    {
        for (auto box : boxes)
        {
            delete box;
        }
        delete streak;
    }

    Box *getBox(const string &type)
    {
        for (auto box : boxes)
        {
            if (box->getType() == type)
                return box;
        }
        return nullptr;
    }

    vector<Box *> &getAllBoxes()
    {
        return boxes;
    }

    Streak *getStreak() { return streak; }

private:
    vector<Box *> boxes;
    Streak *streak;
};

int main()
{
    LeitnerSystem leitnerSystem;
    string command;

    while (cin >> command)
    {
        if (command == "streak")
        {
            Streak *streak = leitnerSystem.getStreak();
            cout << "Your current streak is: " << streak->getStreak() << endl;
        }
        else if (command == "add_flashcard")
        {
            int numQuestions;
            cin >> numQuestions;
            cin.ignore();

            Box *dailyBox = leitnerSystem.getBox("Daily");

            for (int i = 0; i < numQuestions; ++i)
            {
                string question, answer;
                getline(cin, question);
                getline(cin, answer);

                Flashcard *newCard = new Flashcard(question, answer, dailyBox);
                dailyBox->addFlashcard(newCard);
            }
            cout << "Flashcards added to the daily box." << endl;
        }
    
    }

    return 0;
}